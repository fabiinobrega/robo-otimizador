"""
ğŸ”¥ TRANSFERÃŠNCIA TOTAL DE CONHECIMENTO - FASE 1
FUNDAMENTOS ESTRATÃ‰GICOS DE MARKETING DIGITAL

Este mÃ³dulo contÃ©m TODO o conhecimento que Manus transfere para Velyra
sobre os fundamentos estratÃ©gicos de marketing digital.

REGRAS:
- NÃƒO resumir
- NÃƒO simplificar
- EXPLICAR O PORQUÃŠ de cada decisÃ£o
"""

FASE_1_FUNDAMENTOS = {
    "titulo": "TransferÃªncia Total de Fundamentos",
    "objetivo": "Velyra deve ser capaz de explicar tudo com suas prÃ³prias palavras",
    
    "conteudo": {
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 1. MARKETING COMO SISTEMA
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "marketing_como_sistema": {
            "conceito": """
            Marketing NÃƒO Ã© uma aÃ§Ã£o isolada. Ã‰ um SISTEMA integrado onde cada parte
            afeta todas as outras. Se vocÃª mexe no trÃ¡fego, afeta a conversÃ£o.
            Se mexe na oferta, afeta o criativo. Tudo estÃ¡ conectado.
            """,
            
            "componentes_do_sistema": [
                {
                    "nome": "Produto/Oferta",
                    "papel": "O que vocÃª vende e COMO vocÃª apresenta",
                    "impacto": "Define todo o resto - sem oferta boa, nada funciona"
                },
                {
                    "nome": "TrÃ¡fego",
                    "papel": "Levar pessoas qualificadas atÃ© a oferta",
                    "impacto": "TrÃ¡fego errado = desperdÃ­cio de dinheiro"
                },
                {
                    "nome": "ConversÃ£o",
                    "papel": "Transformar visitantes em compradores",
                    "impacto": "Sem conversÃ£o, trÃ¡fego Ã© custo, nÃ£o investimento"
                },
                {
                    "nome": "RetenÃ§Ã£o",
                    "papel": "Manter clientes comprando",
                    "impacto": "LTV alto = margem para pagar mais por aquisiÃ§Ã£o"
                },
                {
                    "nome": "AnÃ¡lise",
                    "papel": "Medir, entender, decidir",
                    "impacto": "Sem dados, vocÃª estÃ¡ voando Ã s cegas"
                }
            ],
            
            "erro_fatal": """
            O erro mais comum Ã© tratar cada parte isoladamente.
            "Vou melhorar o trÃ¡fego" sem olhar para conversÃ£o.
            "Vou mudar o criativo" sem entender a oferta.
            TUDO estÃ¡ conectado. Sempre.
            """,
            
            "principio_manus": """
            Antes de mexer em qualquer parte, pergunte:
            "Como isso afeta o sistema todo?"
            Se nÃ£o souber responder, vocÃª nÃ£o estÃ¡ pronto para agir.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 2. ESTRATÃ‰GIA vs TÃTICA vs OPERAÃ‡ÃƒO
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "estrategia_tatica_operacao": {
            "definicoes": {
                "estrategia": {
                    "o_que_e": "O PORQUÃŠ e o PARA ONDE vocÃª estÃ¡ indo",
                    "horizonte": "Longo prazo (meses a anos)",
                    "perguntas": [
                        "Qual mercado vou atacar?",
                        "Qual posicionamento vou ter?",
                        "Qual vantagem competitiva vou construir?",
                        "Qual Ã© o objetivo final do negÃ³cio?"
                    ],
                    "exemplo": "Ser a maior plataforma de automaÃ§Ã£o de marketing para PMEs no Brasil"
                },
                "tatica": {
                    "o_que_e": "O COMO vocÃª vai executar a estratÃ©gia",
                    "horizonte": "MÃ©dio prazo (semanas a meses)",
                    "perguntas": [
                        "Quais canais vou usar?",
                        "Qual tipo de campanha?",
                        "Qual abordagem de copy?",
                        "Qual sequÃªncia de funil?"
                    ],
                    "exemplo": "Usar Meta Ads para capturar leads com ebook gratuito, nutrir por email, vender trial"
                },
                "operacao": {
                    "o_que_e": "O QUE vocÃª faz no dia a dia",
                    "horizonte": "Curto prazo (horas a dias)",
                    "perguntas": [
                        "Qual criativo vou testar hoje?",
                        "Qual copy vou escrever?",
                        "Qual pÃºblico vou segmentar?",
                        "Qual lance vou definir?"
                    ],
                    "exemplo": "Criar 3 variaÃ§Ãµes de headline para testar no pÃºblico lookalike"
                }
            },
            
            "hierarquia": """
            ESTRATÃ‰GIA â†’ define â†’ TÃTICA â†’ define â†’ OPERAÃ‡ÃƒO
            
            Se vocÃª nÃ£o tem estratÃ©gia clara, suas tÃ¡ticas sÃ£o aleatÃ³rias.
            Se suas tÃ¡ticas sÃ£o aleatÃ³rias, sua operaÃ§Ã£o Ã© desperdÃ­cio.
            """,
            
            "erro_fatal": """
            A maioria dos profissionais vive na OPERAÃ‡ÃƒO.
            "Vou criar mais anÃºncios" sem saber POR QUE.
            "Vou testar mais pÃºblicos" sem entender a TÃTICA.
            
            Resultado: muito trabalho, pouco resultado.
            """,
            
            "principio_manus": """
            Antes de executar qualquer aÃ§Ã£o operacional, pergunte:
            1. Qual Ã© a tÃ¡tica que essa aÃ§Ã£o serve?
            2. Qual Ã© a estratÃ©gia que essa tÃ¡tica serve?
            
            Se nÃ£o souber responder, PARE e pense antes de agir.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 3. PENSAMENTO DE NEGÃ“CIO E LUCRO
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "pensamento_negocio_lucro": {
            "principio_fundamental": """
            O objetivo FINAL de qualquer aÃ§Ã£o de marketing Ã© LUCRO.
            NÃ£o Ã© impressÃµes. NÃ£o Ã© cliques. NÃ£o Ã© leads. NÃ£o Ã© vendas.
            Ã‰ LUCRO = Receita - Custos.
            """,
            
            "metricas_que_importam": {
                "roas": {
                    "formula": "Receita / Investimento em Ads",
                    "interpretacao": "Quanto vocÃª ganha para cada R$1 investido",
                    "meta_minima": "ROAS > 1 = nÃ£o estÃ¡ perdendo dinheiro",
                    "meta_boa": "ROAS > 2 = margem saudÃ¡vel",
                    "meta_excelente": "ROAS > 3 = escala agressiva possÃ­vel"
                },
                "cpa": {
                    "formula": "Investimento / NÃºmero de ConversÃµes",
                    "interpretacao": "Quanto custa adquirir um cliente",
                    "regra": "CPA deve ser MENOR que o valor do cliente (LTV)"
                },
                "ltv": {
                    "formula": "Valor mÃ©dio por cliente Ã— Tempo de retenÃ§Ã£o",
                    "interpretacao": "Quanto um cliente vale ao longo do tempo",
                    "importancia": "LTV alto = pode pagar mais por aquisiÃ§Ã£o"
                },
                "margem": {
                    "formula": "(Receita - Custos) / Receita Ã— 100",
                    "interpretacao": "Quanto sobra de cada venda",
                    "regra": "Se margem Ã© baixa, ROAS precisa ser muito alto"
                }
            },
            
            "erro_fatal": """
            Focar em mÃ©tricas de vaidade:
            - "Tive 1 milhÃ£o de impressÃµes!" (e quanto vendeu?)
            - "CTR de 5%!" (e converteu?)
            - "100 leads hoje!" (e quantos compraram?)
            
            MÃ©tricas de vaidade alimentam ego, nÃ£o caixa.
            """,
            
            "principio_manus": """
            Toda decisÃ£o deve passar pelo filtro:
            "Isso vai aumentar o LUCRO?"
            
            Se a resposta nÃ£o for clara, nÃ£o faÃ§a.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 4. PRIORIZAÃ‡ÃƒO POR IMPACTO
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "priorizacao_impacto": {
            "framework_ice": {
                "nome": "ICE Score",
                "componentes": {
                    "I": "Impact - Qual o impacto potencial se funcionar?",
                    "C": "Confidence - Qual sua confianÃ§a de que vai funcionar?",
                    "E": "Ease - QuÃ£o fÃ¡cil Ã© implementar?"
                },
                "formula": "ICE = (I + C + E) / 3",
                "uso": "Priorize aÃ§Ãµes com maior ICE score"
            },
            
            "matriz_esforco_impacto": {
                "quadrantes": [
                    {
                        "nome": "Quick Wins",
                        "caracteristica": "Alto impacto, baixo esforÃ§o",
                        "acao": "FAZER PRIMEIRO"
                    },
                    {
                        "nome": "Projetos EstratÃ©gicos",
                        "caracteristica": "Alto impacto, alto esforÃ§o",
                        "acao": "Planejar e executar com cuidado"
                    },
                    {
                        "nome": "Tarefas de Preenchimento",
                        "caracteristica": "Baixo impacto, baixo esforÃ§o",
                        "acao": "Fazer quando sobrar tempo"
                    },
                    {
                        "nome": "Armadilhas de Tempo",
                        "caracteristica": "Baixo impacto, alto esforÃ§o",
                        "acao": "EVITAR"
                    }
                ]
            },
            
            "regra_80_20": """
            80% dos resultados vÃªm de 20% das aÃ§Ãµes.
            Identifique os 20% que mais impactam e foque neles.
            
            Em trÃ¡fego pago:
            - 20% dos criativos geram 80% das conversÃµes
            - 20% dos pÃºblicos geram 80% do resultado
            - 20% das campanhas geram 80% do lucro
            
            Encontre esses 20% e ESCALE.
            """,
            
            "principio_manus": """
            Antes de comeÃ§ar qualquer tarefa, pergunte:
            "Isso estÃ¡ nos 20% que mais impactam?"
            
            Se nÃ£o, provavelmente nÃ£o deveria ser prioridade.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 5. ANÃLISE DE RISCO
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "analise_risco": {
            "tipos_de_risco": {
                "risco_financeiro": {
                    "descricao": "Perder dinheiro em campanhas",
                    "mitigacao": [
                        "ComeÃ§ar com orÃ§amento pequeno",
                        "Definir stop loss claro",
                        "Monitorar diariamente no inÃ­cio"
                    ]
                },
                "risco_de_conta": {
                    "descricao": "Ter conta banida ou restrita",
                    "mitigacao": [
                        "Seguir polÃ­ticas da plataforma",
                        "Evitar claims exagerados",
                        "Ter backup de contas"
                    ]
                },
                "risco_de_mercado": {
                    "descricao": "Mercado mudar ou saturar",
                    "mitigacao": [
                        "Diversificar canais",
                        "Testar novos Ã¢ngulos constantemente",
                        "Monitorar concorrÃªncia"
                    ]
                },
                "risco_operacional": {
                    "descricao": "Erros de execuÃ§Ã£o",
                    "mitigacao": [
                        "Checklists de lanÃ§amento",
                        "RevisÃ£o dupla de campanhas",
                        "AutomaÃ§Ãµes de seguranÃ§a"
                    ]
                }
            },
            
            "framework_pre_mortem": """
            Antes de lanÃ§ar qualquer campanha, pergunte:
            "Se isso falhar completamente, qual seria a razÃ£o?"
            
            Liste as 3 razÃµes mais provÃ¡veis de falha.
            Para cada uma, crie uma aÃ§Ã£o preventiva.
            """,
            
            "principio_manus": """
            Risco nÃ£o Ã© algo a evitar, Ã© algo a GERENCIAR.
            
            Aceite riscos calculados.
            Evite riscos desnecessÃ¡rios.
            Sempre tenha plano B.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 6. TOMADA DE DECISÃƒO SOB INCERTEZA
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "decisao_sob_incerteza": {
            "realidade": """
            Em marketing, vocÃª NUNCA terÃ¡ 100% de certeza.
            VocÃª trabalha com probabilidades, nÃ£o garantias.
            
            A pergunta nÃ£o Ã© "isso vai funcionar?"
            A pergunta Ã© "qual a probabilidade de funcionar e o que faÃ§o se nÃ£o funcionar?"
            """,
            
            "framework_decisao": {
                "passo_1": {
                    "nome": "Definir opÃ§Ãµes",
                    "acao": "Liste todas as alternativas possÃ­veis"
                },
                "passo_2": {
                    "nome": "Estimar probabilidades",
                    "acao": "Para cada opÃ§Ã£o, estime chance de sucesso"
                },
                "passo_3": {
                    "nome": "Calcular valor esperado",
                    "acao": "Probabilidade Ã— Ganho potencial - Probabilidade de falha Ã— Perda potencial"
                },
                "passo_4": {
                    "nome": "Considerar reversibilidade",
                    "acao": "Se der errado, posso voltar atrÃ¡s facilmente?"
                },
                "passo_5": {
                    "nome": "Decidir e agir",
                    "acao": "Escolha a opÃ§Ã£o com melhor valor esperado ajustado ao risco"
                }
            },
            
            "regra_dos_70_porcento": """
            Se vocÃª tem 70% de confianÃ§a em uma decisÃ£o, DECIDA.
            
            Esperar por 100% de certeza significa:
            - Nunca decidir
            - Perder oportunidades
            - Ser ultrapassado pela concorrÃªncia
            
            Decida rÃ¡pido, corrija rÃ¡pido.
            """,
            
            "principio_manus": """
            A melhor decisÃ£o Ã© a que vocÃª pode tomar AGORA
            com as informaÃ§Ãµes que vocÃª tem AGORA.
            
            DecisÃ£o imperfeita executada > DecisÃ£o perfeita nunca tomada.
            """
        }
    },
    
    "validacao": {
        "perguntas_velyra_deve_responder": [
            "Por que marketing Ã© um sistema e nÃ£o aÃ§Ãµes isoladas?",
            "Qual a diferenÃ§a entre estratÃ©gia, tÃ¡tica e operaÃ§Ã£o?",
            "Por que ROAS Ã© mais importante que CTR?",
            "Como vocÃª prioriza aÃ§Ãµes usando o framework ICE?",
            "Como vocÃª gerencia risco em uma campanha nova?",
            "Quando vocÃª deve tomar uma decisÃ£o mesmo sem 100% de certeza?"
        ],
        
        "criterio_aprovacao": """
        Velyra deve ser capaz de:
        1. Explicar cada conceito com suas prÃ³prias palavras
        2. Dar exemplos prÃ¡ticos de aplicaÃ§Ã£o
        3. Identificar erros comuns e como evitÃ¡-los
        4. Justificar decisÃµes usando os frameworks aprendidos
        """
    }
}


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# FASE 2: MODELOS MENTAIS DE ELITE
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

FASE_2_MODELOS_MENTAIS = {
    "titulo": "Modelos Mentais de Elite",
    "objetivo": "Velyra deve pensar como um Head de Growth sÃªnior",
    
    "modelos": {
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 1. MODELO DE GROWTH
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "modelo_growth": {
            "pirate_metrics_aarrr": {
                "A_acquisition": {
                    "pergunta": "Como as pessoas descobrem vocÃª?",
                    "metricas": ["CAC", "CPL", "Volume de leads"],
                    "alavancas": ["Canais", "Criativos", "SegmentaÃ§Ã£o"]
                },
                "A_activation": {
                    "pergunta": "As pessoas tÃªm uma primeira experiÃªncia boa?",
                    "metricas": ["Taxa de ativaÃ§Ã£o", "Time to value"],
                    "alavancas": ["Onboarding", "UX", "Suporte"]
                },
                "R_retention": {
                    "pergunta": "As pessoas voltam?",
                    "metricas": ["Churn", "DAU/MAU", "FrequÃªncia de uso"],
                    "alavancas": ["Produto", "Email", "NotificaÃ§Ãµes"]
                },
                "R_revenue": {
                    "pergunta": "VocÃª estÃ¡ monetizando?",
                    "metricas": ["ARPU", "LTV", "MRR"],
                    "alavancas": ["Pricing", "Upsell", "Cross-sell"]
                },
                "R_referral": {
                    "pergunta": "As pessoas indicam?",
                    "metricas": ["NPS", "Viral coefficient"],
                    "alavancas": ["Programa de indicaÃ§Ã£o", "ExperiÃªncia"]
                }
            },
            
            "north_star_metric": """
            Toda empresa deve ter UMA mÃ©trica que indica sucesso.
            
            Exemplos:
            - Airbnb: Noites reservadas
            - Facebook: UsuÃ¡rios ativos diÃ¡rios
            - Slack: Mensagens enviadas
            - Nexora: Campanhas ativas com ROAS > 2
            
            Todas as aÃ§Ãµes devem mover essa mÃ©trica.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 2. FRAMEWORKS DE DECISÃƒO
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "frameworks_decisao": {
            "first_principles": {
                "conceito": "Quebrar problemas atÃ© os fundamentos bÃ¡sicos",
                "processo": [
                    "Identifique as suposiÃ§Ãµes que vocÃª estÃ¡ fazendo",
                    "Questione cada suposiÃ§Ã£o: isso Ã© realmente verdade?",
                    "Reconstrua a soluÃ§Ã£o a partir do zero"
                ],
                "exemplo": """
                SuposiÃ§Ã£o: "Preciso de vÃ­deo para anÃºncios no Facebook"
                Questione: Por que vÃ­deo? O que o vÃ­deo faz?
                Resposta: VÃ­deo captura atenÃ§Ã£o e conta histÃ³ria.
                Nova pergunta: Existe outra forma de capturar atenÃ§Ã£o?
                Insight: Carrossel com storytelling pode funcionar igual.
                """
            },
            
            "inversion": {
                "conceito": "Pense no oposto do que vocÃª quer",
                "processo": [
                    "Em vez de 'como ter sucesso', pergunte 'como garantir o fracasso'",
                    "Liste tudo que causaria fracasso",
                    "Evite essas coisas"
                ],
                "exemplo": """
                Pergunta normal: "Como fazer uma campanha de sucesso?"
                Pergunta invertida: "Como garantir que a campanha falhe?"
                
                Respostas:
                - NÃ£o conhecer o pÃºblico
                - Oferta fraca
                - Criativo genÃ©rico
                - NÃ£o monitorar mÃ©tricas
                
                Agora vocÃª sabe exatamente o que NÃƒO fazer.
                """
            },
            
            "second_order_thinking": {
                "conceito": "Pense nas consequÃªncias das consequÃªncias",
                "processo": [
                    "Qual Ã© a consequÃªncia imediata da minha aÃ§Ã£o?",
                    "E qual Ã© a consequÃªncia dessa consequÃªncia?",
                    "E depois?"
                ],
                "exemplo": """
                AÃ§Ã£o: Baixar preÃ§o para vender mais
                1Âª ordem: Mais vendas
                2Âª ordem: Margem menor, precisa vender muito mais
                3Âª ordem: Atrai clientes sensÃ­veis a preÃ§o, difÃ­cil subir depois
                4Âª ordem: Concorrentes baixam preÃ§o, guerra de preÃ§os
                
                DecisÃ£o: Talvez baixar preÃ§o nÃ£o seja a melhor estratÃ©gia.
                """
            }
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 3. DIAGNÃ“STICO DE GARGALOS
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "diagnostico_gargalos": {
            "teoria_das_restricoes": """
            O sistema Ã© tÃ£o forte quanto seu elo mais fraco.
            
            Se vocÃª tem:
            - 10.000 impressÃµes
            - 500 cliques (5% CTR)
            - 50 leads (10% conversÃ£o)
            - 5 vendas (10% fechamento)
            
            Onde estÃ¡ o gargalo?
            - CTR 5% Ã© bom
            - 10% conversÃ£o Ã© ok
            - 10% fechamento Ã© baixo â† GARGALO
            
            Foque em melhorar o fechamento, nÃ£o em mais trÃ¡fego.
            """,
            
            "framework_diagnostico": {
                "passo_1": "Mapeie todo o funil com nÃºmeros",
                "passo_2": "Identifique onde estÃ¡ a maior queda",
                "passo_3": "Compare com benchmarks do mercado",
                "passo_4": "Foque 80% do esforÃ§o no gargalo",
                "passo_5": "SÃ³ passe para o prÃ³ximo quando resolver"
            }
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 4. ANTECIPAÃ‡ÃƒO DE FALHAS
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "antecipacao_falhas": {
            "pre_mortem": """
            Antes de lanÃ§ar, imagine que a campanha falhou completamente.
            
            Pergunte: "O que causou a falha?"
            
            Respostas comuns:
            - PÃºblico errado
            - Oferta fraca
            - Criativo nÃ£o chamou atenÃ§Ã£o
            - Landing page nÃ£o converteu
            - PreÃ§o alto demais
            - Timing ruim
            
            Para cada resposta, crie uma aÃ§Ã£o preventiva.
            """,
            
            "sinais_de_alerta": {
                "ctr_baixo": {
                    "sinal": "CTR < 1%",
                    "causa_provavel": "Criativo ou segmentaÃ§Ã£o",
                    "acao": "Testar novos criativos ou pÃºblicos"
                },
                "ctr_alto_conversao_baixa": {
                    "sinal": "CTR > 3% mas conversÃ£o < 2%",
                    "causa_provavel": "Desalinhamento criativo-landing",
                    "acao": "Alinhar mensagem do anÃºncio com a pÃ¡gina"
                },
                "cpa_subindo": {
                    "sinal": "CPA aumentando dia apÃ³s dia",
                    "causa_provavel": "Fadiga de pÃºblico ou criativo",
                    "acao": "Renovar criativos ou expandir pÃºblico"
                },
                "frequencia_alta": {
                    "sinal": "FrequÃªncia > 3",
                    "causa_provavel": "PÃºblico saturado",
                    "acao": "Expandir pÃºblico ou pausar"
                }
            }
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 5. PENSAMENTO SISTÃŠMICO
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "pensamento_sistemico": {
            "loops_de_feedback": {
                "loop_positivo": """
                Mais investimento â†’ Mais dados â†’ Melhor otimizaÃ§Ã£o â†’ Melhor ROAS â†’ Mais investimento
                
                Este Ã© um ciclo virtuoso. Quanto mais vocÃª investe (com inteligÃªncia),
                mais dados vocÃª tem, melhor vocÃª otimiza, melhor o resultado.
                """,
                "loop_negativo": """
                OrÃ§amento baixo â†’ Poucos dados â†’ DecisÃµes ruins â†’ ROAS baixo â†’ Corta orÃ§amento
                
                Este Ã© um ciclo vicioso. OrÃ§amento muito baixo impede aprendizado.
                """
            },
            
            "efeitos_colaterais": """
            Toda aÃ§Ã£o tem efeitos alÃ©m do pretendido.
            
            Exemplo:
            - AÃ§Ã£o: Aumentar desconto para vender mais
            - Efeito pretendido: Mais vendas
            - Efeitos colaterais:
              - Clientes esperam desconto sempre
              - Margem reduzida
              - PercepÃ§Ã£o de valor diminui
              - Concorrentes reagem
            
            Sempre mapeie os efeitos colaterais antes de agir.
            """
        },
        
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        # 6. LEITURA DE CENÃRIOS
        # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        "leitura_cenarios": {
            "cenario_otimista": {
                "descricao": "Tudo funciona como planejado",
                "probabilidade": "20%",
                "acao": "Ter plano de escala pronto"
            },
            "cenario_realista": {
                "descricao": "Funciona parcialmente, precisa ajustes",
                "probabilidade": "60%",
                "acao": "Ter budget para testes e iteraÃ§Ãµes"
            },
            "cenario_pessimista": {
                "descricao": "NÃ£o funciona, precisa pivotar",
                "probabilidade": "20%",
                "acao": "Ter plano B e limite de perda definido"
            },
            
            "principio": """
            Planeje para o cenÃ¡rio realista.
            Prepare-se para o pessimista.
            Esteja pronto para o otimista.
            """
        }
    },
    
    "validacao": {
        "perguntas_velyra_deve_responder": [
            "Explique o framework AARRR e dÃª um exemplo prÃ¡tico",
            "Como vocÃª usaria First Principles para resolver um problema de conversÃ£o?",
            "O que Ã© Second Order Thinking e por que Ã© importante?",
            "Como vocÃª identifica o gargalo em um funil?",
            "O que Ã© um Pre-Mortem e como vocÃª faria um?",
            "Explique a diferenÃ§a entre loop positivo e negativo em marketing"
        ],
        
        "criterio_aprovacao": """
        Velyra deve demonstrar:
        1. Capacidade de aplicar cada framework a situaÃ§Ãµes reais
        2. Pensamento de longo prazo (second order)
        3. Habilidade de diagnosticar problemas sistematicamente
        4. AntecipaÃ§Ã£o de riscos e falhas
        """
    }
}


def get_fase_1_content():
    """Retorna o conteÃºdo completo da Fase 1"""
    return FASE_1_FUNDAMENTOS


def get_fase_2_content():
    """Retorna o conteÃºdo completo da Fase 2"""
    return FASE_2_MODELOS_MENTAIS


def validate_velyra_response(fase: int, resposta: str) -> dict:
    """
    Valida se a resposta da Velyra demonstra compreensÃ£o do conteÃºdo.
    """
    if fase == 1:
        conceitos_esperados = [
            "sistema", "estratÃ©gia", "tÃ¡tica", "operaÃ§Ã£o",
            "lucro", "roas", "priorizaÃ§Ã£o", "risco", "decisÃ£o"
        ]
    elif fase == 2:
        conceitos_esperados = [
            "aarrr", "growth", "first principles", "inversÃ£o",
            "gargalo", "loop", "cenÃ¡rio", "pre-mortem"
        ]
    else:
        return {"error": "Fase nÃ£o reconhecida"}
    
    resposta_lower = resposta.lower()
    conceitos_encontrados = [c for c in conceitos_esperados if c in resposta_lower]
    
    aprovado = len(conceitos_encontrados) >= len(conceitos_esperados) * 0.6
    
    return {
        "aprovado": aprovado,
        "conceitos_encontrados": conceitos_encontrados,
        "conceitos_faltando": [c for c in conceitos_esperados if c not in resposta_lower],
        "percentual": len(conceitos_encontrados) / len(conceitos_esperados) * 100
    }
