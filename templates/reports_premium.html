{% extends "base_premium.html" %}

{% block title %}Relatórios & Analytics - NEXORA PRIME{% endblock %}

{% block content %}
<!-- Breadcrumbs Premium -->
<nav class="nexora-breadcrumb" style="margin-bottom: var(--nexora-spacing-6);">
    <div class="nexora-breadcrumb-item">
        <a href="/"><i class="fas fa-home"></i> Dashboard</a>
    </div>
    <span class="nexora-breadcrumb-separator">/</span>
    <div class="nexora-breadcrumb-item active">
        Relatórios & Analytics
    </div>
</nav>

<!-- Header Section -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--nexora-spacing-8); flex-wrap: wrap; gap: var(--nexora-spacing-4);">
    <div>
        <h1 style="margin-bottom: var(--nexora-spacing-2); display: flex; align-items: center; gap: var(--nexora-spacing-3);">
            <i class="fas fa-chart-bar" style="background: var(--nexora-gradient-secondary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i>
            Relatórios & Analytics
        </h1>
        <p style="color: var(--nexora-gray-600); margin: 0;">Análise completa de performance e insights acionáveis</p>
    </div>
    
    <div style="display: flex; gap: var(--nexora-spacing-3); flex-wrap: wrap;">
        <!-- Date Range Picker -->
        <div style="display: flex; gap: var(--nexora-spacing-2); background: var(--nexora-white); padding: var(--nexora-spacing-2); border-radius: var(--nexora-radius-xl); box-shadow: var(--nexora-shadow-sm); align-items: center;">
            <i class="fas fa-calendar" style="color: var(--nexora-gray-500); margin-left: var(--nexora-spacing-2);"></i>
            <input type="date" class="nexora-input" style="border: none; box-shadow: none; padding: var(--nexora-spacing-2);" value="2024-11-01">
            <span style="color: var(--nexora-gray-400);">até</span>
            <input type="date" class="nexora-input" style="border: none; box-shadow: none; padding: var(--nexora-spacing-2);" value="2024-11-24">
        </div>
        
        <button class="nexora-btn nexora-btn-outlined">
            <i class="fas fa-download"></i>
            Exportar PDF
        </button>
        
        <button class="nexora-btn nexora-btn-primary">
            <i class="fas fa-sync"></i>
            Atualizar Dados
        </button>
    </div>
</div>

<!-- KPIs Premium -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: var(--nexora-spacing-6); margin-bottom: var(--nexora-spacing-10);">
    <!-- KPI 1: ROI Total -->
    <div class="nexora-card" style="background: var(--nexora-gradient-primary-soft); border: 2px solid var(--nexora-primary-200);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <div style="flex: 1;">
                <p style="font-size: var(--nexora-text-xs); font-weight: var(--nexora-font-bold); color: var(--nexora-gray-600); text-transform: uppercase; letter-spacing: var(--nexora-tracking-widest); margin-bottom: var(--nexora-spacing-2);">
                    ROI Total
                </p>
                <h2 style="font-size: var(--nexora-text-4xl); font-weight: var(--nexora-font-extrabold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-2);">
                    342%
                </h2>
                <span class="nexora-badge nexora-badge-success nexora-badge-dot">
                    <i class="fas fa-arrow-up"></i> +28%
                </span>
            </div>
            <div style="width: 56px; height: 56px; background: var(--nexora-gradient-primary); border-radius: var(--nexora-radius-2xl); display: flex; align-items: center; justify-content: center; box-shadow: var(--nexora-shadow-primary);">
                <i class="fas fa-percentage" style="font-size: 24px; color: var(--nexora-white);"></i>
            </div>
        </div>
    </div>
    
    <!-- KPI 2: Receita Total -->
    <div class="nexora-card" style="background: var(--nexora-gradient-energy-soft); border: 2px solid var(--nexora-cyan-200);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <div style="flex: 1;">
                <p style="font-size: var(--nexora-text-xs); font-weight: var(--nexora-font-bold); color: var(--nexora-gray-600); text-transform: uppercase; letter-spacing: var(--nexora-tracking-widest); margin-bottom: var(--nexora-spacing-2);">
                    Receita Total
                </p>
                <h2 style="font-size: var(--nexora-text-4xl); font-weight: var(--nexora-font-extrabold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-2);">
                    R$ 487k
                </h2>
                <span class="nexora-badge nexora-badge-success nexora-badge-dot">
                    <i class="fas fa-arrow-up"></i> +42%
                </span>
            </div>
            <div style="width: 56px; height: 56px; background: var(--nexora-gradient-energy); border-radius: var(--nexora-radius-2xl); display: flex; align-items: center; justify-content: center; box-shadow: var(--nexora-shadow-success);">
                <i class="fas fa-dollar-sign" style="font-size: 24px; color: var(--nexora-white);"></i>
            </div>
        </div>
    </div>
    
    <!-- KPI 3: Custo Total -->
    <div class="nexora-card" style="background: linear-gradient(135deg, #fef3c715 0%, #fcd34d15 100%); border: 2px solid var(--nexora-warning-light);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <div style="flex: 1;">
                <p style="font-size: var(--nexora-text-xs); font-weight: var(--nexora-font-bold); color: var(--nexora-gray-600); text-transform: uppercase; letter-spacing: var(--nexora-tracking-widest); margin-bottom: var(--nexora-spacing-2);">
                    Custo Total
                </p>
                <h2 style="font-size: var(--nexora-text-4xl); font-weight: var(--nexora-font-extrabold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-2);">
                    R$ 142k
                </h2>
                <span class="nexora-badge nexora-badge-warning nexora-badge-dot">
                    <i class="fas fa-arrow-down"></i> -8%
                </span>
            </div>
            <div style="width: 56px; height: 56px; background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: var(--nexora-radius-2xl); display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 25px -5px rgba(245, 158, 11, 0.3);">
                <i class="fas fa-coins" style="font-size: 24px; color: var(--nexora-white);"></i>
            </div>
        </div>
    </div>
    
    <!-- KPI 4: CPA Médio -->
    <div class="nexora-card" style="background: var(--nexora-gradient-secondary-soft); border: 2px solid var(--nexora-secondary-200);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <div style="flex: 1;">
                <p style="font-size: var(--nexora-text-xs); font-weight: var(--nexora-font-bold); color: var(--nexora-gray-600); text-transform: uppercase; letter-spacing: var(--nexora-tracking-widest); margin-bottom: var(--nexora-spacing-2);">
                    CPA Médio
                </p>
                <h2 style="font-size: var(--nexora-text-4xl); font-weight: var(--nexora-font-extrabold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-2);">
                    R$ 24,50
                </h2>
                <span class="nexora-badge nexora-badge-success nexora-badge-dot">
                    <i class="fas fa-arrow-down"></i> -15%
                </span>
            </div>
            <div style="width: 56px; height: 56px; background: var(--nexora-gradient-secondary); border-radius: var(--nexora-radius-2xl); display: flex; align-items: center; justify-content: center; box-shadow: var(--nexora-shadow-secondary);">
                <i class="fas fa-chart-line" style="font-size: 24px; color: var(--nexora-white);"></i>
            </div>
        </div>
    </div>
    
    <!-- KPI 5: Taxa de Conversão -->
    <div class="nexora-card" style="border: 2px solid var(--nexora-gray-200);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <div style="flex: 1;">
                <p style="font-size: var(--nexora-text-xs); font-weight: var(--nexora-font-bold); color: var(--nexora-gray-600); text-transform: uppercase; letter-spacing: var(--nexora-tracking-widest); margin-bottom: var(--nexora-spacing-2);">
                    Taxa de Conversão
                </p>
                <h2 style="font-size: var(--nexora-text-4xl); font-weight: var(--nexora-font-extrabold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-2);">
                    3.8%
                </h2>
                <span class="nexora-badge nexora-badge-success nexora-badge-dot">
                    <i class="fas fa-arrow-up"></i> +0.5%
                </span>
            </div>
            <div style="width: 56px; height: 56px; background: var(--nexora-gray-900); border-radius: var(--nexora-radius-2xl); display: flex; align-items: center; justify-content: center; box-shadow: var(--nexora-shadow-lg);">
                <i class="fas fa-bullseye" style="font-size: 24px; color: var(--nexora-white);"></i>
            </div>
        </div>
    </div>
</div>

<!-- Charts Section -->
<div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--nexora-spacing-6); margin-bottom: var(--nexora-spacing-10);">
    <!-- Performance Over Time -->
    <div class="nexora-card">
        <div class="nexora-card-header">
            <div>
                <h3 class="nexora-card-title">
                    <i class="fas fa-chart-area" style="color: var(--nexora-primary-600); margin-right: var(--nexora-spacing-2);"></i>
                    Performance ao Longo do Tempo
                </h3>
                <p class="nexora-card-subtitle">Receita vs Custo - Últimos 30 dias</p>
            </div>
            <div style="display: flex; gap: var(--nexora-spacing-2);">
                <button class="nexora-btn nexora-btn-ghost nexora-btn-sm">Dia</button>
                <button class="nexora-btn nexora-btn-primary nexora-btn-sm">Semana</button>
                <button class="nexora-btn nexora-btn-ghost nexora-btn-sm">Mês</button>
            </div>
        </div>
        <div class="nexora-card-body">
            <canvas id="performanceChart" style="max-height: 350px;"></canvas>
        </div>
    </div>
    
    <!-- Top Campaigns -->
    <div class="nexora-card">
        <div class="nexora-card-header">
            <div>
                <h3 class="nexora-card-title">
                    <i class="fas fa-trophy" style="color: var(--nexora-warning); margin-right: var(--nexora-spacing-2);"></i>
                    Top 5 Campanhas
                </h3>
                <p class="nexora-card-subtitle">Por ROAS</p>
            </div>
        </div>
        <div class="nexora-card-body">
            <div style="display: flex; flex-direction: column; gap: var(--nexora-spacing-4);">
                <!-- Campaign 1 -->
                <div style="display: flex; align-items: center; gap: var(--nexora-spacing-3); padding: var(--nexora-spacing-3); background: var(--nexora-gradient-primary-soft); border-radius: var(--nexora-radius-xl);">
                    <div style="width: 40px; height: 40px; background: var(--nexora-gradient-primary); border-radius: var(--nexora-radius-full); display: flex; align-items: center; justify-content: center; font-weight: var(--nexora-font-bold); color: var(--nexora-white);">
                        1
                    </div>
                    <div style="flex: 1;">
                        <p style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-1);">Black Friday 2024</p>
                        <p style="font-size: var(--nexora-text-sm); color: var(--nexora-gray-600); margin: 0;">ROAS: <strong>8.2x</strong></p>
                    </div>
                </div>
                
                <!-- Campaign 2 -->
                <div style="display: flex; align-items: center; gap: var(--nexora-spacing-3); padding: var(--nexora-spacing-3); background: var(--nexora-gray-50); border-radius: var(--nexora-radius-xl);">
                    <div style="width: 40px; height: 40px; background: var(--nexora-gray-400); border-radius: var(--nexora-radius-full); display: flex; align-items: center; justify-content: center; font-weight: var(--nexora-font-bold); color: var(--nexora-white);">
                        2
                    </div>
                    <div style="flex: 1;">
                        <p style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-1);">Remarketing Q4</p>
                        <p style="font-size: var(--nexora-text-sm); color: var(--nexora-gray-600); margin: 0;">ROAS: <strong>6.5x</strong></p>
                    </div>
                </div>
                
                <!-- Campaign 3 -->
                <div style="display: flex; align-items: center; gap: var(--nexora-spacing-3); padding: var(--nexora-spacing-3); background: var(--nexora-gray-50); border-radius: var(--nexora-radius-xl);">
                    <div style="width: 40px; height: 40px; background: var(--nexora-gray-400); border-radius: var(--nexora-radius-full); display: flex; align-items: center; justify-content: center; font-weight: var(--nexora-font-bold); color: var(--nexora-white);">
                        3
                    </div>
                    <div style="flex: 1;">
                        <p style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-1);">Lançamento Produto X</p>
                        <p style="font-size: var(--nexora-text-sm); color: var(--nexora-gray-600); margin: 0;">ROAS: <strong>5.8x</strong></p>
                    </div>
                </div>
                
                <!-- Campaign 4 -->
                <div style="display: flex; align-items: center; gap: var(--nexora-spacing-3); padding: var(--nexora-spacing-3); background: var(--nexora-gray-50); border-radius: var(--nexora-radius-xl);">
                    <div style="width: 40px; height: 40px; background: var(--nexora-gray-400); border-radius: var(--nexora-radius-full); display: flex; align-items: center; justify-content: center; font-weight: var(--nexora-font-bold); color: var(--nexora-white);">
                        4
                    </div>
                    <div style="flex: 1;">
                        <p style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-1);">Natal 2024</p>
                        <p style="font-size: var(--nexora-text-sm); color: var(--nexora-gray-600); margin: 0;">ROAS: <strong>4.9x</strong></p>
                    </div>
                </div>
                
                <!-- Campaign 5 -->
                <div style="display: flex; align-items: center; gap: var(--nexora-spacing-3); padding: var(--nexora-spacing-3); background: var(--nexora-gray-50); border-radius: var(--nexora-radius-xl);">
                    <div style="width: 40px; height: 40px; background: var(--nexora-gray-400); border-radius: var(--nexora-radius-full); display: flex; align-items: center; justify-content: center; font-weight: var(--nexora-font-bold); color: var(--nexora-white);">
                        5
                    </div>
                    <div style="flex: 1;">
                        <p style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900); margin-bottom: var(--nexora-spacing-1);">Tráfego Orgânico</p>
                        <p style="font-size: var(--nexora-text-sm); color: var(--nexora-gray-600); margin: 0;">ROAS: <strong>4.2x</strong></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Platform Performance & Conversion Funnel -->
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--nexora-spacing-6); margin-bottom: var(--nexora-spacing-10);">
    <!-- Platform Performance -->
    <div class="nexora-card">
        <div class="nexora-card-header">
            <div>
                <h3 class="nexora-card-title">
                    <i class="fas fa-layer-group" style="color: var(--nexora-secondary-600); margin-right: var(--nexora-spacing-2);"></i>
                    Performance por Plataforma
                </h3>
                <p class="nexora-card-subtitle">Comparativo de resultados</p>
            </div>
        </div>
        <div class="nexora-card-body">
            <canvas id="platformChart"></canvas>
        </div>
    </div>
    
    <!-- Conversion Funnel -->
    <div class="nexora-card">
        <div class="nexora-card-header">
            <div>
                <h3 class="nexora-card-title">
                    <i class="fas fa-filter" style="color: var(--nexora-cyan-600); margin-right: var(--nexora-spacing-2);"></i>
                    Funil de Conversão
                </h3>
                <p class="nexora-card-subtitle">Taxa de conversão por etapa</p>
            </div>
        </div>
        <div class="nexora-card-body">
            <div style="display: flex; flex-direction: column; gap: var(--nexora-spacing-4);">
                <!-- Stage 1 -->
                <div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: var(--nexora-spacing-2);">
                        <span style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900);">Impressões</span>
                        <span style="font-weight: var(--nexora-font-bold); color: var(--nexora-gray-900);">1.250.000</span>
                    </div>
                    <div style="width: 100%; height: 12px; background: var(--nexora-gray-200); border-radius: var(--nexora-radius-full); overflow: hidden;">
                        <div style="width: 100%; height: 100%; background: var(--nexora-gradient-primary);"></div>
                    </div>
                </div>
                
                <!-- Stage 2 -->
                <div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: var(--nexora-spacing-2);">
                        <span style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900);">Cliques</span>
                        <span style="font-weight: var(--nexora-font-bold); color: var(--nexora-gray-900);">45.000 <span style="color: var(--nexora-gray-500); font-weight: normal;">(3.6%)</span></span>
                    </div>
                    <div style="width: 100%; height: 12px; background: var(--nexora-gray-200); border-radius: var(--nexora-radius-full); overflow: hidden;">
                        <div style="width: 80%; height: 100%; background: var(--nexora-gradient-secondary);"></div>
                    </div>
                </div>
                
                <!-- Stage 3 -->
                <div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: var(--nexora-spacing-2);">
                        <span style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900);">Visualizações de Página</span>
                        <span style="font-weight: var(--nexora-font-bold); color: var(--nexora-gray-900);">28.000 <span style="color: var(--nexora-gray-500); font-weight: normal;">(62%)</span></span>
                    </div>
                    <div style="width: 100%; height: 12px; background: var(--nexora-gray-200); border-radius: var(--nexora-radius-full); overflow: hidden;">
                        <div style="width: 60%; height: 100%; background: var(--nexora-gradient-energy);"></div>
                    </div>
                </div>
                
                <!-- Stage 4 -->
                <div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: var(--nexora-spacing-2);">
                        <span style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900);">Adicionado ao Carrinho</span>
                        <span style="font-weight: var(--nexora-font-bold); color: var(--nexora-gray-900);">8.500 <span style="color: var(--nexora-gray-500); font-weight: normal;">(30%)</span></span>
                    </div>
                    <div style="width: 100%; height: 12px; background: var(--nexora-gray-200); border-radius: var(--nexora-radius-full); overflow: hidden;">
                        <div style="width: 40%; height: 100%; background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);"></div>
                    </div>
                </div>
                
                <!-- Stage 5 -->
                <div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: var(--nexora-spacing-2);">
                        <span style="font-weight: var(--nexora-font-semibold); color: var(--nexora-gray-900);">Conversões</span>
                        <span style="font-weight: var(--nexora-font-bold); color: var(--nexora-success);">5.800 <span style="color: var(--nexora-gray-500); font-weight: normal;">(68%)</span></span>
                    </div>
                    <div style="width: 100%; height: 12px; background: var(--nexora-gray-200); border-radius: var(--nexora-radius-full); overflow: hidden;">
                        <div style="width: 25%; height: 100%; background: var(--nexora-success);"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Detailed Table -->
<div class="nexora-card">
    <div class="nexora-card-header">
        <div>
            <h3 class="nexora-card-title">
                <i class="fas fa-table" style="color: var(--nexora-primary-600); margin-right: var(--nexora-spacing-2);"></i>
                Relatório Detalhado por Campanha
            </h3>
            <p class="nexora-card-subtitle">Todas as métricas em um só lugar</p>
        </div>
        <button class="nexora-btn nexora-btn-outlined nexora-btn-sm">
            <i class="fas fa-file-excel"></i>
            Exportar Excel
        </button>
    </div>
    <div class="nexora-card-body" style="padding: 0;">
        <div class="nexora-table-container" style="box-shadow: none; border-radius: 0;">
            <table class="nexora-table">
                <thead>
                    <tr>
                        <th>Campanha</th>
                        <th>Plataforma</th>
                        <th>Impressões</th>
                        <th>Cliques</th>
                        <th>CTR</th>
                        <th>Conversões</th>
                        <th>Custo</th>
                        <th>Receita</th>
                        <th>ROAS</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Black Friday 2024</strong></td>
                        <td><span class="nexora-badge nexora-badge-primary">Facebook</span></td>
                        <td>450.000</td>
                        <td>18.200</td>
                        <td>4.04%</td>
                        <td>2.450</td>
                        <td>R$ 45.000</td>
                        <td>R$ 369.000</td>
                        <td><strong style="color: var(--nexora-success);">8.2x</strong></td>
                        <td><span class="nexora-badge nexora-badge-success nexora-badge-dot">Ativa</span></td>
                    </tr>
                    <tr>
                        <td><strong>Remarketing Q4</strong></td>
                        <td><span class="nexora-badge nexora-badge-secondary">Instagram</span></td>
                        <td>320.000</td>
                        <td>12.800</td>
                        <td>4.00%</td>
                        <td>1.850</td>
                        <td>R$ 32.000</td>
                        <td>R$ 208.000</td>
                        <td><strong style="color: var(--nexora-success);">6.5x</strong></td>
                        <td><span class="nexora-badge nexora-badge-success nexora-badge-dot">Ativa</span></td>
                    </tr>
                    <tr>
                        <td><strong>Lançamento Produto X</strong></td>
                        <td><span class="nexora-badge nexora-badge-info">Google</span></td>
                        <td>280.000</td>
                        <td>9.800</td>
                        <td>3.50%</td>
                        <td>1.200</td>
                        <td>R$ 28.000</td>
                        <td>R$ 162.400</td>
                        <td><strong style="color: var(--nexora-success);">5.8x</strong></td>
                        <td><span class="nexora-badge nexora-badge-warning nexora-badge-dot">Pausada</span></td>
                    </tr>
                    <tr>
                        <td><strong>Natal 2024</strong></td>
                        <td><span class="nexora-badge nexora-badge-gray">TikTok</span></td>
                        <td>200.000</td>
                        <td>4.000</td>
                        <td>2.00%</td>
                        <td>300</td>
                        <td>R$ 37.000</td>
                        <td>R$ 181.300</td>
                        <td><strong style="color: var(--nexora-success);">4.9x</strong></td>
                        <td><span class="nexora-badge nexora-badge-success nexora-badge-dot">Ativa</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
// ═══════════════════════════════════════════════════════════════════
// REPORTS PREMIUM - JAVASCRIPT
// ═══════════════════════════════════════════════════════════════════

// Initialize charts
function initCharts() {
    // Performance Chart
    const performanceCtx = document.getElementById('performanceChart');
    if (performanceCtx) {
        new Chart(performanceCtx, {
            type: 'line',
            data: {
                labels: ['Sem 1', 'Sem 2', 'Sem 3', 'Sem 4'],
                datasets: [{
                    label: 'Receita',
                    data: [95000, 125000, 110000, 157000],
                    borderColor: 'rgb(34, 197, 94)',
                    backgroundColor: 'rgba(34, 197, 94, 0.1)',
                    tension: 0.4,
                    fill: true,
                    borderWidth: 3
                }, {
                    label: 'Custo',
                    data: [28000, 35000, 32000, 47000],
                    borderColor: 'rgb(239, 68, 68)',
                    backgroundColor: 'rgba(239, 68, 68, 0.1)',
                    tension: 0.4,
                    fill: true,
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return 'R$ ' + value.toLocaleString('pt-BR');
                            }
                        }
                    }
                }
            }
        });
    }
    
    // Platform Chart
    const platformCtx = document.getElementById('platformChart');
    if (platformCtx) {
        new Chart(platformCtx, {
            type: 'bar',
            data: {
                labels: ['Facebook', 'Instagram', 'Google', 'TikTok'],
                datasets: [{
                    label: 'ROAS',
                    data: [8.2, 6.5, 5.8, 4.9],
                    backgroundColor: [
                        'rgb(59, 130, 246)',
                        'rgb(168, 85, 247)',
                        'rgb(34, 211, 238)',
                        'rgb(74, 222, 128)'
                    ],
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return value + 'x';
                            }
                        }
                    }
                }
            }
        });
    }
}

// Initialize on load
document.addEventListener('DOMContentLoaded', function() {
    initCharts();
});
</script>
{% endblock %}
