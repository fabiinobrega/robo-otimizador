<!-- Loading States Component - NEXORA Operator v11.7 -->

<!-- Spinner Inline -->
<span class="nexora-spinner" role="status" aria-label="Carregando...">
    <span class="nexora-spinner-icon"></span>
</span>

<!-- Loading Overlay -->
<div class="nexora-loading-overlay" id="loadingOverlay" style="display: none;">
    <div class="nexora-loading-content">
        <div class="nexora-spinner-large"></div>
        <p class="nexora-loading-text">Carregando...</p>
    </div>
</div>

<!-- Skeleton Loader (para cards) -->
<div class="nexora-skeleton-card">
    <div class="nexora-skeleton nexora-skeleton-title"></div>
    <div class="nexora-skeleton nexora-skeleton-text"></div>
    <div class="nexora-skeleton nexora-skeleton-text"></div>
    <div class="nexora-skeleton nexora-skeleton-button"></div>
</div>

<!-- Progress Bar -->
<div class="nexora-progress-bar">
    <div class="nexora-progress-fill" style="width: 0%"></div>
</div>

<style>
/* Spinner Inline */
.nexora-spinner {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.nexora-spinner-icon {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border: 2px solid var(--nexora-gray-300);
    border-top-color: var(--nexora-primary);
    border-radius: 50%;
    animation: nexora-spin 0.6s linear infinite;
}

/* Loading Overlay */
.nexora-loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: var(--nexora-z-modal);
    display: flex;
    align-items: center;
    justify-content: center;
}

.nexora-loading-content {
    background-color: var(--nexora-white);
    padding: var(--nexora-spacing-8);
    border-radius: var(--nexora-radius-2xl);
    box-shadow: var(--nexora-shadow-2xl);
    text-align: center;
}

.nexora-spinner-large {
    width: 4rem;
    height: 4rem;
    border: 4px solid var(--nexora-gray-300);
    border-top-color: var(--nexora-primary);
    border-radius: 50%;
    animation: nexora-spin 0.8s linear infinite;
    margin: 0 auto var(--nexora-spacing-4);
}

.nexora-loading-text {
    color: var(--nexora-gray-700);
    font-size: var(--nexora-text-lg);
    font-weight: 600;
    margin: 0;
}

/* Skeleton Loader */
.nexora-skeleton-card {
    background-color: var(--nexora-white);
    padding: var(--nexora-spacing-6);
    border-radius: var(--nexora-radius-xl);
    box-shadow: var(--nexora-shadow-md);
}

.nexora-skeleton {
    background: linear-gradient(
        90deg,
        var(--nexora-gray-200) 25%,
        var(--nexora-gray-300) 50%,
        var(--nexora-gray-200) 75%
    );
    background-size: 200% 100%;
    animation: nexora-skeleton 1.5s ease-in-out infinite;
    border-radius: var(--nexora-radius-md);
}

.nexora-skeleton-title {
    height: 1.5rem;
    width: 60%;
    margin-bottom: var(--nexora-spacing-4);
}

.nexora-skeleton-text {
    height: 1rem;
    width: 100%;
    margin-bottom: var(--nexora-spacing-3);
}

.nexora-skeleton-text:last-of-type {
    width: 80%;
}

.nexora-skeleton-button {
    height: 2.5rem;
    width: 40%;
    margin-top: var(--nexora-spacing-4);
}

/* Progress Bar */
.nexora-progress-bar {
    width: 100%;
    height: 0.5rem;
    background-color: var(--nexora-gray-200);
    border-radius: var(--nexora-radius-full);
    overflow: hidden;
}

.nexora-progress-fill {
    height: 100%;
    background: var(--nexora-primary-gradient);
    transition: width var(--nexora-transition-base);
    border-radius: var(--nexora-radius-full);
}

/* Animations */
@keyframes nexora-spin {
    to { transform: rotate(360deg); }
}

@keyframes nexora-skeleton {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* JavaScript Helpers */
</style>

<script>
// Loading Overlay Functions
function showLoading(text = 'Carregando...') {
    const overlay = document.getElementById('loadingOverlay');
    const textElement = overlay.querySelector('.nexora-loading-text');
    if (textElement) textElement.textContent = text;
    overlay.style.display = 'flex';
}

function hideLoading() {
    const overlay = document.getElementById('loadingOverlay');
    overlay.style.display = 'none';
}

// Progress Bar Functions
function setProgress(percentage) {
    const progressFill = document.querySelector('.nexora-progress-fill');
    if (progressFill) {
        progressFill.style.width = `${Math.min(100, Math.max(0, percentage))}%`;
    }
}

// Auto-hide loading after timeout (safety)
function showLoadingWithTimeout(text = 'Carregando...', timeout = 30000) {
    showLoading(text);
    setTimeout(() => {
        hideLoading();
    }, timeout);
}
</script>
