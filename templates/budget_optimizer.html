{% extends "base_nexora.html" %}
{% block title %}Otimizador de Orçamento - NEXORA{% endblock %}
{% block content %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/dashboard"><i class="fas fa-home"></i> Dashboard</a></li>
        <li class="breadcrumb-item"><a href="/all-features">Analytics Avançado</a></li>
        <li class="breadcrumb-item active">Otimizador de Orçamento</li>
    </ol>
</nav>
<div class="container-fluid">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-4 border-bottom">
        <div>
            <h1 class="h2 mb-2"><i class="fas fa-calculator text-primary"></i> Otimizador de Orçamento</h1>
            <p class="text-muted mb-0">Otimize a alocação de orçamento com IA para maximizar ROAS</p>
        </div>
        <div class="btn-toolbar">
            <button class="btn btn-primary me-2" onclick="runOptimization()"><i class="fas fa-magic"></i> Otimizar Agora</button>
            <button class="btn btn-outline-secondary"><i class="fas fa-cog"></i> Configurar</button>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col-md-3 mb-3"><div class="card border-0 shadow-sm h-100"><div class="card-body"><p class="text-muted mb-1 small">Orçamento Total</p><h3 class="mb-0 text-primary">R$ 50,000</h3><small class="text-muted">mensal</small></div></div></div>
        <div class="col-md-3 mb-3"><div class="card border-0 shadow-sm h-100"><div class="card-body"><p class="text-muted mb-1 small">Economia Potencial</p><h3 class="mb-0 text-success">R$ 8,500</h3><small class="text-success"><i class="fas fa-arrow-up"></i> 17% do orçamento</small></div></div></div>
        <div class="col-md-3 mb-3"><div class="card border-0 shadow-sm h-100"><div class="card-body"><p class="text-muted mb-1 small">ROAS Projetado</p><h3 class="mb-0 text-info">5.2x</h3><small class="text-success"><i class="fas fa-arrow-up"></i> +1.0x atual</small></div></div></div>
        <div class="col-md-3 mb-3"><div class="card border-0 shadow-sm h-100"><div class="card-body"><p class="text-muted mb-1 small">Eficiência</p><h3 class="mb-0 text-warning">92%</h3><small class="text-muted">do orçamento otimizado</small></div></div></div>
    </div>
    <div class="row">
        <div class="col-md-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white"><h5 class="mb-0"><i class="fas fa-sliders-h text-primary me-2"></i>Alocação Recomendada</h5></div>
                <div class="card-body">
                    <div class="mb-4"><div class="d-flex justify-content-between mb-1"><span>Facebook Ads</span><span class="fw-bold">R$ 20,000 (40%)</span></div><div class="progress" style="height: 25px;"><div class="progress-bar bg-primary" style="width: 40%">ROAS: 4.8x</div></div></div>
                    <div class="mb-4"><div class="d-flex justify-content-between mb-1"><span>Google Ads</span><span class="fw-bold">R$ 15,000 (30%)</span></div><div class="progress" style="height: 25px;"><div class="progress-bar bg-success" style="width: 30%">ROAS: 5.2x</div></div></div>
                    <div class="mb-4"><div class="d-flex justify-content-between mb-1"><span>TikTok Ads</span><span class="fw-bold">R$ 10,000 (20%)</span></div><div class="progress" style="height: 25px;"><div class="progress-bar bg-info" style="width: 20%">ROAS: 3.8x</div></div></div>
                    <div class="mb-4"><div class="d-flex justify-content-between mb-1"><span>LinkedIn Ads</span><span class="fw-bold">R$ 5,000 (10%)</span></div><div class="progress" style="height: 25px;"><div class="progress-bar bg-warning" style="width: 10%">ROAS: 2.5x</div></div></div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white"><h5 class="mb-0"><i class="fas fa-lightbulb text-warning me-2"></i>Recomendações</h5></div>
                <div class="card-body">
                    <div class="alert alert-success"><i class="fas fa-arrow-up me-2"></i><strong>Aumentar Google Ads</strong><br><small>+R$ 3,000 pode gerar +R$ 15,600 em receita</small></div>
                    <div class="alert alert-warning"><i class="fas fa-arrow-down me-2"></i><strong>Reduzir LinkedIn</strong><br><small>-R$ 2,000 com impacto mínimo</small></div>
                    <div class="alert alert-info"><i class="fas fa-sync me-2"></i><strong>Realocar TikTok</strong><br><small>Mover R$ 2,000 para Facebook</small></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
function runOptimization() {
    const t = document.createElement('div');
    t.className = 'alert alert-primary position-fixed';
    t.style.cssText = 'top:20px;right:20px;z-index:9999;min-width:300px;';
    t.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Otimizando orçamento...';
    document.body.appendChild(t);
    setTimeout(() => { t.className = 'alert alert-success position-fixed'; t.innerHTML = '<i class="fas fa-check me-2"></i>Otimização concluída!'; setTimeout(() => t.remove(), 2000); }, 2000);
}
</script>
{% endblock %}
